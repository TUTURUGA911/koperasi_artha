<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simpanan - Koperasi Artha Sejati</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="shortcut icon" href="{{ url_for('static', filename='images/logo.png') }}" type="image/x-icon">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #e0f2fe, #a5f3fc);
            color: #1e293b;
            overflow-x: hidden;
            margin: 0;
            line-height: 1.6;
        }

        .sidebar {
            min-height: 100vh;
            background: linear-gradient(180deg, #15803d, #34d399);
            color: white;
            position: fixed;
            width: 280px;
            transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            padding: 20px 10px;
            border-right: 3px solid #16a34a;
            z-index: 1000;
            backdrop-filter: blur(10px);
            background: linear-gradient(180deg, rgba(21, 128, 61, 0.95), rgba(52, 211, 153, 0.95));
        }

        .sidebar .logo {
            text-align: center;
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            animation: fadeIn 1s ease-in-out;
        }

        .sidebar a {
            color: #f3f4f6;
            text-decoration: none;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
            border-radius: 10px;
            margin: 5px 10px;
            font-size: 0.95rem;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .sidebar a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: all 0.5s ease;
        }

        .sidebar a:hover::before {
            left: 100%;
        }

        .sidebar a:hover {
            background: rgba(22, 163, 74, 0.8);
            color: white;
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .sidebar .active {
            background: rgba(22, 163, 74, 0.8);
            color: white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .sidebar .nav-icon {
            font-size: 1.4rem;
            margin-right: 12px;
            transition: transform 0.3s ease;
        }

        .sidebar a:hover .nav-icon {
            transform: scale(1.2) rotate(5deg);
        }

        .sidebar .dropdown-menu {
            background: rgba(30, 41, 59, 0.95);
            border: none;
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }

        .sidebar .dropdown-menu a {
            color: #f3f4f6;
            padding: 8px 25px;
            font-size: 0.9rem;
        }

        .sidebar .dropdown-menu a:hover {
            background: #16a34a;
            border-radius: 10px;
            margin-left: -5px;
        }

        .content {
            margin-left: 280px;
            padding: 40px;
            transition: margin-left 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            animation: fadeIn 1s ease-in-out;
        }

        .navbar {
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
            border-radius: 15px;
            margin-bottom: 30px;
            padding: 15px 25px;
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .navbar .navbar-brand {
            display: none;
        }

        .welcome-banner {
            background: linear-gradient(90deg, #16a34a, #34d399);
            border-radius: 15px;
            padding: 20px 30px;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
            animation: slideIn 1s ease-out;
            position: relative;
            overflow: hidden;
        }

        .welcome-banner::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: all 1.5s ease;
        }

        .welcome-banner:hover::before {
            left: 100%;
        }

        .welcome-banner h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin: 0;
            animation: fadeInText 1.2s ease-out;
        }

        .welcome-banner p {
            font-size: 0.9rem;
            margin: 0;
            opacity: 0.9;
        }

        .welcome-banner .user-icon {
            font-size: 2.5rem;
            opacity: 0.8;
            margin-right: 20px;
        }

        .card {
            border: none;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            transition: transform 0.4s ease, box-shadow 0.4s ease;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            overflow: hidden;
            position: relative;
            animation: slideUp 0.8s ease-out;
        }

        .card:hover {
            transform: translateY(-10px) rotateX(2deg);
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.15);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, #a855f7, #d8b4fe);
            transition: all 0.3s ease;
        }

        .card-header {
            background: linear-gradient(90deg, #a855f7, #d8b4fe);
            color: white;
            border-radius: 20px 20px 0 0;
            padding: 15px 20px;
            font-size: 1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .card-header::after {
            content: '';
            position: absolute;
            top: 0;
            right: -50%;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.15), transparent);
            transition: all 0.5s ease;
        }

        .card:hover .card-header::after {
            right: 50%;
        }

        .card-body {
            padding: 25px;
            background: transparent;
            border-radius: 0 0 20px 20px;
        }

        .form-label {
            font-size: 0.9rem;
            font-weight: 500;
            color: #1e293b;
            margin-bottom: 8px;
        }

        .form-control,
        .form-select {
            border-radius: 8px;
            border: 1px solid #d1d5db;
            padding: 10px;
            font-size: 0.9rem;
            background: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: #a855f7;
            box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.2);
            background: white;
        }

        .btn-gradient {
            background: linear-gradient(90deg, #a855f7, #d8b4fe);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 12px 30px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .btn-gradient:hover {
            background: linear-gradient(90deg, #9333ea, #a855f7);
            transform: scale(1.08);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .input-group-text {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid #d1d5db;
            border-radius: 8px 0 0 8px;
            font-size: 0.9rem;
            color: #6b7280;
        }

        .preview-amount {
            font-size: 1.2rem;
            font-weight: 600;
            color: #a855f7;
            margin-top: 10px;
        }

        .invalid-feedback {
            font-size: 0.8rem;
            color: #ef4444;
        }

        .balance-info {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .balance-card {
            flex: 1;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .balance-card:hover {
            transform: translateY(-5px);
        }

        .balance-card h6 {
            font-size: 0.9rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 10px;
        }

        .balance-card p {
            font-size: 1.2rem;
            font-weight: 700;
            color: #a855f7;
            margin: 0;
        }

        /* Gaya baru untuk informasi simpanan */
        .info-simpanan {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .info-card {
            flex: 1;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            position: relative;
            overflow: hidden;
            min-width: 300px;
        }

        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
        }

        .info-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #a855f7, #d8b4fe);
        }

        .info-card h5 {
            font-size: 1.1rem;
            font-weight: 600;
            color: #a855f7;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .info-card h5 i {
            margin-right: 10px;
            font-size: 1.3rem;
        }

        .info-card ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .info-card ul li {
            font-size: 0.9rem;
            color: #1e293b;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .info-card ul li i {
            color: #16a34a;
            margin-right: 10px;
            font-size: 1.1rem;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 999;
            display: none;
            transition: opacity 0.4s ease;
        }

        .overlay.active {
            display: block;
            opacity: 1;
        }

        #loading-spinner {
            display: none;
            text-align: center;
            margin-top: 10px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes slideUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes slideIn {
            from {
                transform: translateX(-20px);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes fadeInText {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 260px;
                transform: translateX(-100%);
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .content {
                margin-left: 0;
                padding: 20px;
            }

            .navbar .navbar-brand {
                display: flex;
                align-items: center;
            }

            .card,
            .info-card,
            .balance-card {
                animation: none;
            }

            .welcome-banner {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
                margin-bottom: 0;
            }

            .form-label,
            .form-control,
            .form-select {
                font-size: 0.85rem;
            }

            .btn-gradient {
                width: 100%;
                padding: 12px;
            }

            .info-simpanan {
                flex-direction: column;
            }

            .info-card {
                min-width: 100%;
            }
        }

        @media (min-width: 769px) {
            .navbar .navbar-brand {
                display: none;
            }

            .navbar {
                padding: 0;
            }

            .welcome-banner {
                margin-bottom: 0;
                border-radius: 15px 15px 0 0;
                width: 100%;
                padding: 25px 40px;
                justify-content: flex-start;
            }

            .welcome-banner h3 {
                font-size: 1.8rem;
            }

            .welcome-banner p {
                font-size: 1rem;
            }

            .welcome-banner .user-icon {
                font-size: 3rem;
                margin-right: 30px;
            }
        }

        /* Modal Enhancements */
        .modal-content {
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .modal-content:hover {
            transform: translateY(-5px);
        }

        .modal-header.bg-gradient {
            background: linear-gradient(90deg, #a855f7, #d8b4fe);
            border-bottom: none;
            padding: 20px;
        }

        .modal-header .btn-close-white {
            filter: invert(1);
        }

        .modal-body {
            padding: 25px;
        }

        .modal-footer {
            padding: 15px 25px;
            background: transparent;
        }

        /* Floating Label Styling */
        .form-group {
            position: relative;
            margin-bottom: 1.5rem;
        }

        .floating-input {
            padding: 1.2rem 1rem 0.5rem;
            font-size: 0.9rem;
            border-radius: 8px;
            border: 1px solid #d1d5db;
            background: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }

        .floating-input:focus {
            border-color: #a855f7;
            box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.2);
            background: white;
        }

        .floating-label {
            position: absolute;
            top: 50%;
            left: 1rem;
            transform: translateY(-50%);
            font-size: 0.9rem;
            color: #6b7280;
            pointer-events: none;
            transition: all 0.2s ease;
        }

        .floating-input:focus+.floating-label,
        .floating-input:not(:placeholder-shown)+.floating-label {
            top: 0.5rem;
            font-size: 0.75rem;
            color: #a855f7;
            transform: translateY(0);
        }

        textarea.floating-input {
            padding-top: 1.5rem;
        }

        /* Toggle Password Icon */
        .toggle-password {
            position: absolute;
            right: 0.5rem;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            background: transparent;
            border: none;
            color: #6b7280;
        }

        .toggle-password:hover {
            color: #a855f7;
        }

        /* Button Gradient */
        .btn-gradient {
            background: linear-gradient(90deg, #a855f7, #d8b4fe);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 12px 30px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .btn-gradient:hover {
            background: linear-gradient(90deg, #9333ea, #a855f7);
            transform: scale(1.08);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .btn-secondary {
            background: #6b7280;
            border: none;
            border-radius: 10px;
            padding: 12px 30px;
            font-size: 0.9rem;
            color: white;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: #4b5563;
            transform: scale(1.08);
        }

        /* Spinner */
        .spinner-border {
            width: 1.5rem;
            height: 1.5rem;
            margin: 0 auto;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .modal-dialog {
                margin: 1rem;
            }

            .modal-body {
                padding: 20px;
            }

            .floating-input {
                font-size: 0.85rem;
            }

            .floating-label {
                font-size: 0.85rem;
            }

            .floating-input:focus+.floating-label,
            .floating-input:not(:placeholder-shown)+.floating-label {
                font-size: 0.7rem;
            }
        }
    </style>
</head>

<body>
    <!-- Overlay for mobile sidebar -->
    <div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="logo">
            <img src="/static/images/LAMBANG-KOPERASI.png" alt="Logo" class="img-fluid mb-2 rounded-circle" width="80">
            <h4 class="text-white fw-semibold"><i class="me-2"></i> Koperasi Artha Sejati</h4>
        </div>
        <a href="/home"><i class="fas fa-home nav-icon"></i> Dashboard</a>
        <a href="/saldo"><i class="fas fa-wallet nav-icon"></i> Saldo</a>
        <div class="dropdown">
            <a href="#" class="dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="fas fa-history nav-icon"></i> Transaksi
            </a>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="/pinjaman">Pinjaman</a></li>
                <li><a class="dropdown-item" href="/simpanan">Simpanan</a></li>
                <li><a class="dropdown-item" href="/pembayaran">Pembayaran</a></li>
                <li><a class="dropdown-item" href="/withdrawal_request">Permintaan Penarikan</a></li>
                <li><a class="dropdown-item" href="/riwayat_simpanan">Riwayat Simpanan</a></li>
                <li><a class="dropdown-item" href="/riwayat_pinjaman">Riwayat Pinjaman</a></li>
            </ul>
        </div>
        <a href="/profile" class="active"><i class="fas fa-user nav-icon"></i> Profil</a>
        <a href="javascript:void(0);" onclick="logout()"><i class="fas fa-sign-out-alt nav-icon"></i> Logout</a>
    </div>

    <!-- Main Content -->
    <div class="content">
        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid mb-2 mt-2">
                <a class="navbar-brand" href="javascript:void(0)" onclick="toggleSidebar()">
                    <i class="fas fa-bars text-success me-2"></i>
                </a>
                <div class="w-100">
                    <div class="welcome-banner">
                        <img src="/static/{{user_info.profile_pic_real}}" alt="avatar"
                            class="rounded-circle img-fluid user-icon" style="width: 150px; height: 150px;">
                        <div>
                            <h3>Selamat Datang, {{ user_info.profile_name if user_info else 'Pengguna' }}!</h3>
                            <p>Atur keuangan Anda dengan mudah di Koperasi Simpan Pinjam</p>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        <div class="container-fluid">
            <!-- ======= Hero Section ======= -->
            {% if user_login %}
            <div class="modal fade" id="modalResetPass" tabindex="-1" aria-labelledby="modalResetPassLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content border-0 shadow-lg">
                        <div class="modal-header bg-gradient text-white">
                            <h5 class="modal-title" id="modalResetPassLabel">
                                <i class="fas fa-lock me-2"></i> Reset Password
                            </h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <div class="modal-body p-4">
                            <div class="form-group mb-4 position-relative">
                                <input type="password" class="form-control floating-input" id="old-password"
                                    placeholder=" " required>
                                <label for="old-password" class="floating-label">Password Lama</label>
                                <span class="input-group-text toggle-password"
                                    onclick="togglePassword('old-password', this)">
                                    <i class="bi bi-eye-slash"></i>
                                </span>
                            </div>
                            <div class="form-group mb-4 position-relative">
                                <input type="password" class="form-control floating-input" id="new-password"
                                    placeholder=" " required>
                                <label for="new-password" class="floating-label">Password Baru</label>
                                <span class="input-group-text toggle-password"
                                    onclick="togglePassword('new-password', this)">
                                    <i class="bi bi-eye-slash"></i>
                                </span>
                            </div>
                            <div id="loading-spinner" class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                        </div>
                        <div class="modal-footer border-0">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button type="button" class="btn btn-gradient"
                                onclick="resetPass('{{user_login.username}}')">
                                <i class="fas fa-check me-2"></i> Update
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="shareExperienceModal" tabindex="-1" aria-labelledby="shareExperienceModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered modal-lg">
                    <div class="modal-content border-0 shadow-lg">
                        <div class="modal-header bg-gradient text-white">
                            <h5 class="modal-title" id="shareExperienceModalLabel">
                                <i class="fas fa-user-edit me-2"></i> Update Profil User
                            </h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <div class="modal-body p-4">
                            <div class="row">
                                <div class="col-md-6 form-group mb-4 position-relative">
                                    <input type="text" id="username" name="username" class="form-control floating-input"
                                        value="{{user_login.username}}" disabled placeholder=" ">
                                    <label for="username" class="floating-label">Username</label>
                                </div>
                                <div class="col-md-6 form-group mb-4 position-relative">
                                    <input type="text" id="fullname" name="fullname" class="form-control floating-input"
                                        placeholder=" " value="{{user_login.profile_name}}" required>
                                    <label for="fullname" class="floating-label">Full Name</label>
                                    <h6 class="invalid-feedback" id="help-fullname"></h6>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 form-group mb-4 position-relative">
                                    <input type="email" id="email" name="email" class="form-control floating-input"
                                        placeholder=" " value="{{user_login.email}}" required>
                                    <label for="email" class="floating-label">Email</label>
                                    <h6 class="invalid-feedback" id="help-email"></h6>
                                </div>
                                <div class="col-md-6 form-group mb-4 position-relative">
                                    <input type="text" id="job" name="job" class="form-control floating-input"
                                        placeholder=" "
                                        value="{% if user_login.profile_job %}{{user_login.profile_job}}{% endif %}"
                                        required>
                                    <label for="job" class="floating-label">Job</label>
                                    <h6 class="invalid-feedback" id="help-job"></h6>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 form-group mb-4 position-relative">
                                    <input type="text" id="mobile" name="phone" class="form-control floating-input"
                                        placeholder=" "
                                        value="{% if user_login.profile_phone %}{{user_login.profile_phone}}{% endif %}"
                                        required>
                                    <label for="mobile" class="floating-label">Mobile Phone</label>
                                    <h6 class="invalid-feedback" id="help-phone"></h6>
                                </div>
                                <div class="col-md-6 form-group mb-4 position-relative">
                                    <input type="text" id="address" name="address" class="form-control floating-input"
                                        placeholder=" "
                                        value="{% if user_login.profile_address %}{{user_login.profile_address}}{% endif %}"
                                        required>
                                    <label for="address" class="floating-label">Address</label>
                                    <h6 class="invalid-feedback" id="help-address"></h6>
                                </div>
                            </div>
                            <div class="form-group mb-4 position-relative">
                                <textarea class="form-control floating-input" id="bio" rows="4" placeholder=" "
                                    required>{% if user_login.profile_info %}{{user_login.profile_info}}{% endif %}</textarea>
                                <label for="bio" class="floating-label">Bio Profil</label>
                                <h6 class="invalid-feedback" id="help-bio"></h6>
                            </div>
                            <div class="form-group mb-4 position-relative">
                                <input type="file" class="form-control" id="image" name="image">
                                <label for="image" class="floating-label"></label>
                            </div>
                            <div id="loading-spinner" class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                        </div>
                        <div class="modal-footer border-0">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                <i class="fas fa-times me-2"></i> Batal
                            </button>
                            <button type="button" class="btn btn-gradient" onclick="update_profile()">
                                <i class="fas fa-check me-2"></i> Update
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            <!-- ======= Blog Section ======= -->
            <div class="container" data-aos="fade-up" data-aos-delay="100">
                <section style="margin-top: 150px;">
                    <div class="container">
                        <div class="row">
                            <div class="col">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-4">
                                <div class="card mb-4">
                                    <div class="card-body text-center">
                                        <img src="/static/{{user_info.profile_pic_real}}" alt="avatar"
                                            class="rounded-circle img-fluid" style="width: 150px; height: 150px;">
                                        <h5 class="my-3">{{user_info.profile_name}}</h5>
                                        <p class="text-muted mb-1">{% if user_info.profile_job
                                            %}{{user_info.profile_job}}{% else %}-{% endif
                                            %}</p>
                                        <p class="text-muted mb-4">{% if user_info.profile_address
                                            %}{{user_info.profile_address}}{% else
                                            %}-{% endif %}</p>
                                        {% if user_login %}
                                        <div class="d-flex justify-content-center mb-2">
                                            <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                                data-bs-target="#shareExperienceModal">Edit Profil</button>
                                            <button type="button" class="btn btn-outline-primary ms-1"
                                                onclick="sign_out()">Logout</button>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>

                            </div>
                            <div class="col-lg-8">
                                <div class="card mb-4">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <p class="mb-0">Full Name</p>
                                            </div>
                                            <div class="col-sm-9">
                                                <p class="text-muted mb-0">{{user_info.profile_name}}</p>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <p class="mb-0">Email</p>
                                            </div>
                                            <div class="col-sm-9">
                                                <p class="text-muted mb-0">{{user_info.email}}</p>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <p class="mb-0">Mobile Phone</p>
                                            </div>
                                            <div class="col-sm-9">
                                                <p class="text-muted mb-0">{% if user_info.profile_phone
                                                    %}{{user_info.profile_phone}}{% else
                                                    %}-{% endif %}</p>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <p class="mb-0">Address</p>
                                            </div>
                                            <div class="col-sm-9">
                                                <p class="text-muted mb-0">{% if user_info.profile_address
                                                    %}{{user_info.profile_address}}{% else
                                                    %}-{% endif %}</p>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <p class="mb-0">Bio</p>
                                            </div>
                                            <div class="col-sm-9">
                                                <p class="text-muted mb-0">{% if user_info.profile_info
                                                    %}{{user_info.profile_info}}{% else %}-{%
                                                    endif %}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {% if user_login %}
                                <div class="card mb-4">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <p class="mb-0">Password</p>
                                            </div>
                                            <div class="col-sm-9">
                                                <div class="col-sm-9">
                                                    <button type="button" class="btn btn-danger" data-bs-toggle="modal"
                                                        data-bs-target="#modalResetPass">Update Password</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {% endif %}
                            </div>
                </section>
            </div>
            </section><!-- End Blog Section -->
        </div>
    </div>

    <!-- Bootstrap JS and Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery for AJAX -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- SweetAlert2 for alerts -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- js-cookie for cookie management -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script>
    <!-- Font Awesome for icons -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/js/all.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/user-control.js') }}"></script>
    <script>
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            sidebar.classList.toggle('active');
            overlay.classList.toggle('active');
        }

        // Fungsi logout
        function logout() {
            Swal.fire({
                title: 'Apakah Anda yakin?',
                text: "Anda akan keluar!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#2ecc71',
                cancelButtonColor: '#ef4444',
                confirmButtonText: 'Ya, keluar!',
                cancelButtonText: 'Batal'
            }).then((result) => {
                if (result.isConfirmed) {
                    try {
                        Cookies.remove('mytoken');
                        Cookies.remove('mytoken', { path: '/' });
                        if ($ && $.removeCookie) {
                            $.removeCookie('mytoken');
                            $.removeCookie('mytoken', { path: '/' });
                        }
                        document.cookie = "mytoken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
                        Swal.fire(
                            'Keluar!',
                            'Anda telah berhasil keluar.',
                            'success'
                        ).then(() => {
                            window.location.href = '/login';
                        });
                    } catch (error) {
                        console.error("Error during logout:", error);
                        window.location.href = '/login';
                    }
                }
            });
        }
    </script>
</body>

</html>